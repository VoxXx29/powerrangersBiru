<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Magical Invitation ü¶ã</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Quicksand:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #e8f4fd 50%, #f0e6ff 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Page system */
        .page {
            display: none;
            min-height: 100vh;
            position: relative;
            z-index: 5;
        }
        
        .page.active {
            display: block;
        }
        
        /* Animated background elements */
        .bg-decoration {
            position: fixed;
            pointer-events: none;
            z-index: 1;
        }
        
        .flower {
            width: 30px;
            height: 30px;
            opacity: 0.3;
            animation: float 6s ease-in-out infinite;
        }
        
        .flower:nth-child(2) { animation-delay: -2s; }
        .flower:nth-child(3) { animation-delay: -4s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Butterfly animation */
        .butterfly {
            position: fixed;
            width: 40px;
            height: 40px;
            pointer-events: none;
            z-index: 10;
            animation: fly 15s linear infinite;
        }
        
        .butterfly:nth-child(1) {
            top: 20%;
            animation-delay: 0s;
        }
        
        .butterfly:nth-child(2) {
            top: 60%;
            animation-delay: -5s;
        }
        
        .butterfly:nth-child(3) {
            top: 40%;
            animation-delay: -10s;
        }
        
        @keyframes fly {
            0% {
                left: -50px;
                transform: translateY(0px) scale(1);
            }
            25% {
                transform: translateY(-30px) scale(1.1);
            }
            50% {
                transform: translateY(20px) scale(0.9);
            }
            75% {
                transform: translateY(-15px) scale(1.05);
            }
            100% {
                left: 100vw;
                transform: translateY(0px) scale(1);
            }
        }
        
        /* Bee animation */
        .bee {
            position: fixed;
            width: 35px;
            height: 35px;
            pointer-events: none;
            z-index: 10;
            animation: buzz 12s linear infinite;
        }
        
        .bee:nth-child(1) {
            top: 30%;
            animation-delay: -3s;
        }
        
        .bee:nth-child(2) {
            top: 70%;
            animation-delay: -8s;
        }
        
        @keyframes buzz {
            0% {
                right: -50px;
                transform: translateY(0px) rotate(0deg);
            }
            20% {
                transform: translateY(-25px) rotate(5deg);
            }
            40% {
                transform: translateY(15px) rotate(-5deg);
            }
            60% {
                transform: translateY(-20px) rotate(3deg);
            }
            80% {
                transform: translateY(10px) rotate(-3deg);
            }
            100% {
                right: 100vw;
                transform: translateY(0px) rotate(0deg);
            }
        }
        
        /* Common styles */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(255, 182, 193, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            width: 100%;
            max-width: 600px;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 182, 193, 0.1) 0%, transparent 70%);
            animation: shimmer 8s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }
        
        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ff69b4, #87ceeb, #dda0dd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #8b5a8c;
            margin-bottom: 2rem;
            font-weight: 500;
            position: relative;
            z-index: 2;
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Quicksand', sans-serif;
            position: relative;
            overflow: hidden;
            z-index: 2;
            margin: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(255, 105, 180, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #87ceeb, #4682b4);
            color: white;
            box-shadow: 0 8px 20px rgba(135, 206, 235, 0.3);
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(135, 206, 235, 0.4);
        }
        
        /* Letter styles */
        .letter {
            background: #fefefe;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            box-shadow: inset 0 0 20px rgba(255, 182, 193, 0.1);
            position: relative;
            z-index: 2;
            text-align: left;
        }
        
        .letter p {
            font-size: 1.1rem;
            color: #6b5b73;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }
        
        .signature {
            text-align: right;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #8b5a8c;
            margin-top: 2rem;
        }
        
        /* Date picker styles */
        .date-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            position: relative;
            z-index: 2;
        }
        
        .date-option {
            background: linear-gradient(135deg, #ffb6c1, #b6e5ff);
            padding: 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .date-image {
            width: 100%;
            height: 120px;
            border-radius: 15px;
            margin-bottom: 1rem;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .date-option:hover .date-image {
            transform: scale(1.05);
        }
        
        .date-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .date-option.selected {
            border-color: #ff69b4;
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
        }
        
        .date-option h4 {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Location styles */
        .location-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            position: relative;
            z-index: 2;
        }
        
        .location-option {
            background: rgba(255, 255, 255, 0.8);
            padding: 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        
        .location-image {
            width: 100%;
            height: 100px;
            border-radius: 15px;
            margin-bottom: 1rem;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .location-option:hover .location-image {
            transform: scale(1.05);
        }
        
        .location-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .location-option.selected {
            border-color: #87ceeb;
            background: linear-gradient(135deg, #87ceeb, #4682b4);
            color: white;
        }
        
        .location-option h4 {
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }
        
        .location-option p {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Confirmation styles */
        .confirmation-details {
            background: linear-gradient(135deg, #ffe4e6, #e6f3ff);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem 0;
            position: relative;
            z-index: 2;
        }
        
        .confirmation-details h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #8b5a8c;
            margin-bottom: 1rem;
        }
        
        .confirmation-details p {
            font-size: 1.1rem;
            color: #6b5b73;
            margin-bottom: 0.5rem;
        }
        
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        /* Progress indicator */
        .progress {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }
        
        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 0.5rem;
            font-weight: 600;
            color: #8b5a8c;
        }
        
        .progress-step.active {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
        }
        
        .progress-step.completed {
            background: linear-gradient(135deg, #87ceeb, #4682b4);
            color: white;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 2rem;
            }
            
            .title {
                font-size: 2.5rem;
            }
            
            .date-grid, .location-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Animated butterflies -->
    <div class="butterfly">ü¶ã</div>
    <div class="butterfly">ü¶ã</div>
    <div class="butterfly">ü¶ã</div>
    
    <!-- Animated bees -->
    <div class="bee">üêù</div>
    <div class="bee">üêù</div>
    
    <!-- Background decorations -->
    <div class="bg-decoration flower" style="top: 10%; left: 10%;">üå∏</div>
    <div class="bg-decoration flower" style="top: 20%; right: 15%;">üå∫</div>
    <div class="bg-decoration flower" style="bottom: 20%; left: 20%;">üåº</div>
    <div class="bg-decoration flower" style="bottom: 30%; right: 10%;">üåª</div>
    <div class="bg-decoration flower" style="top: 60%; left: 5%;">üå∑</div>
    <div class="bg-decoration flower" style="top: 70%; right: 25%;">üåπ</div>

    <!-- Page 1: Invitation Letter -->
    <div id="page1" class="page active">
        <div class="container">
            <div class="progress">
                <div class="progress-step active">1</div>
                <div class="progress-step">2</div>
                <div class="progress-step">3</div>
                <div class="progress-step">4</div>
            </div>
            
            <div class="card">
                <!-- Sparkle effects -->
                <div class="sparkle" style="top: 20%; left: 15%; animation-delay: 0s;"></div>
                <div class="sparkle" style="top: 30%; right: 20%; animation-delay: 0.5s;"></div>
                <div class="sparkle" style="bottom: 40%; left: 25%; animation-delay: 1s;"></div>
                <div class="sparkle" style="bottom: 20%; right: 15%; animation-delay: 1.5s;"></div>
                
                <h1 class="title">A Letter for You ‚ú®</h1>
                <p class="subtitle">An invitation written from the heart üíï</p>
                
                <div class="letter">
                    <p>My Dearest,</p>
                    
                    <p>Like morning dew on wildflowers, your presence brings magic to the simplest moments. I find myself dreaming of an evening where time slows down, where we can share stories under twinkling lights and create memories as sweet as honey from the garden bees. üå∏</p>
                    
                    <p>Would you join me for a date that feels like stepping into a fairy tale? A chance to escape the ordinary world and enter our own little enchanted story, complete with laughter, conversation, and perhaps a touch of that cottagecore magic we both adore. ü¶ã</p>
                    
                    <p>I've prepared something special - a choice of perfect evenings, each one crafted with you in mind. All that's missing is your beautiful smile to make it complete.</p>
                    
                    <p>Say yes to adventure, yes to magic, and yes to us creating something wonderful together. ‚ú®</p>
                    
                    <div class="signature">
                        With all my love and butterfly wishes,<br>
                        Your Secret Admirer üíñ
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="nextPage()">
                    Yes, I'd love to! üíï
                </button>
            </div>
        </div>
    </div>

    <!-- Page 2: Date Selection -->
    <div id="page2" class="page">
        <div class="container">
            <div class="progress">
                <div class="progress-step completed">1</div>
                <div class="progress-step active">2</div>
                <div class="progress-step">3</div>
                <div class="progress-step">4</div>
            </div>
            
            <div class="card">
                <h1 class="title">Choose Our Perfect Day üåô</h1>
                <p class="subtitle">When shall we create our magical moment? ‚ú®</p>
                
                <div class="date-grid">
                    <div class="date-option" onclick="selectDate(this, 'Friday Evening')">
                        <svg class="date-image" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="eveningGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#ffa726;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#42a5f5;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <rect width="300" height="120" fill="url(#eveningGrad)"/>
                            <circle cx="250" cy="30" r="20" fill="#ffeb3b" opacity="0.8"/>
                            <path d="M0,80 Q50,60 100,80 T200,80 T300,80 L300,120 L0,120 Z" fill="#2e7d32" opacity="0.7"/>
                            <rect x="80" y="50" width="30" height="40" fill="#8d6e63"/>
                            <polygon points="80,50 95,35 110,50" fill="#d32f2f"/>
                            <rect x="85" y="60" width="8" height="8" fill="#ffeb3b" opacity="0.9"/>
                            <rect x="97" y="60" width="8" height="8" fill="#ffeb3b" opacity="0.9"/>
                        </svg>
                        <h4>üåÖ Friday Evening</h4>
                        <p>7:00 PM - 10:00 PM</p>
                        <p>Perfect for a cozy start to the weekend</p>
                    </div>
                    
                    <div class="date-option" onclick="selectDate(this, 'Saturday Afternoon')">
                        <svg class="date-image" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="afternoonGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ffeb3b;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#ffa726;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#81c784;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <rect width="300" height="120" fill="url(#afternoonGrad)"/>
                            <circle cx="60" cy="25" r="25" fill="#ffeb3b"/>
                            <path d="M0,90 Q75,70 150,90 T300,90 L300,120 L0,120 Z" fill="#4caf50"/>
                            <circle cx="100" cy="85" r="8" fill="#e91e63"/>
                            <circle cx="120" cy="80" r="6" fill="#9c27b0"/>
                            <circle cx="140" cy="88" r="7" fill="#2196f3"/>
                            <circle cx="180" cy="82" r="9" fill="#ff9800"/>
                            <circle cx="200" cy="87" r="5" fill="#e91e63"/>
                        </svg>
                        <h4>‚òÄÔ∏è Saturday Afternoon</h4>
                        <p>2:00 PM - 6:00 PM</p>
                        <p>Golden hour magic and afternoon delights</p>
                    </div>
                    
                    <div class="date-option" onclick="selectDate(this, 'Saturday Evening')">
                        <svg class="date-image" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="nightGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#1a237e;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#3f51b5;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#9c27b0;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <rect width="300" height="120" fill="url(#nightGrad)"/>
                            <circle cx="220" cy="20" r="15" fill="#ffeb3b" opacity="0.9"/>
                            <circle cx="50" cy="15" r="2" fill="#ffffff"/>
                            <circle cx="80" cy="25" r="1.5" fill="#ffffff"/>
                            <circle cx="150" cy="10" r="2" fill="#ffffff"/>
                            <circle cx="180" cy="30" r="1" fill="#ffffff"/>
                            <circle cx="250" cy="35" r="1.5" fill="#ffffff"/>
                            <path d="M0,80 Q100,60 200,80 T300,80 L300,120 L0,120 Z" fill="#1b5e20"/>
                            <rect x="120" y="45" width="25" height="35" fill="#5d4037"/>
                            <polygon points="120,45 132.5,30 145,45" fill="#8d6e63"/>
                            <rect x="125" y="55" width="6" height="6" fill="#ffeb3b"/>
                            <rect x="134" y="55" width="6" height="6" fill="#ffeb3b"/>
                        </svg>
                        <h4>üåü Saturday Evening</h4>
                        <p>7:00 PM - 11:00 PM</p>
                        <p>Classic date night under the stars</p>
                    </div>
                    
                    <div class="date-option" onclick="selectDate(this, 'Sunday Brunch')">
                        <svg class="date-image" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="brunchGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#ffcc02;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#81c784;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <rect width="300" height="120" fill="url(#brunchGrad)"/>
                            <circle cx="80" cy="30" r="20" fill="#ffeb3b"/>
                            <path d="M0,70 Q50,50 100,70 T200,70 T300,70 L300,120 L0,120 Z" fill="#66bb6a"/>
                            <rect x="150" y="40" width="40" height="30" rx="5" fill="#8d6e63"/>
                            <rect x="155" y="35" width="30" height="8" rx="4" fill="#d32f2f"/>
                            <rect x="160" y="45" width="8" height="8" fill="#ffeb3b"/>
                            <rect x="172" y="45" width="8" height="8" fill="#ffeb3b"/>
                            <circle cx="200" cy="65" r="12" fill="#ffeb3b"/>
                            <circle cx="220" cy="68" r="10" fill="#ff9800"/>
                            <circle cx="240" cy="65" r="8" fill="#e91e63"/>
                        </svg>
                        <h4>üåª Sunday Brunch</h4>
                        <p>11:00 AM - 3:00 PM</p>
                        <p>Lazy morning vibes and sweet treats</p>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="nextPage()" id="dateNextBtn" style="display: none;">
                    Continue to Locations üó∫Ô∏è
                </button>
            </div>
        </div>
    </div>

    <!-- Page 3: Location Selection (FIXED) -->
    <div id="page3" class="page">
        <div class="container">
            <div class="progress">
                <div class="progress-step completed">1</div>
                <div class="progress-step completed">2</div>
                <div class="progress-step active">3</div>
                <div class="progress-step">4</div>
            </div>
            
            <div class="card">
                <h1 class="title">Pick Our Enchanted Spot üè°</h1>
                <p class="subtitle">Where shall our story unfold?</p>
                
                <div class="location-grid">
                    <!-- Opsi 1 -->
                    <div class="location-option" onclick="selectLocation(this, 'Malalayang Beach Walk')">
                        <img src="MBW.jpeg" alt="Pemandangan di Malalayang Beach Walk" class="location-image">
                        <h4>üå∏ Malalayang Beach Walk</h4>
                        <p>Menikmati sunset indah di tepi pantai, ditemani angin sepoi-sepoi dan suara ombak.</p>
                    </div>
                    
                    <!-- Opsi 2 -->
                    <div class="location-option" onclick="selectLocation(this, 'Kawasan')">
                        <img src="kawasan.webp" alt="Pemandangan di Kawasan Megamas" class="location-image">
                        <h4>Kawasan</h4>
                        <p>Tempat ini dipenuhi dengan 10 ribu macam jenis manusia dan memiliki banyak spot-spot keren dan bagus.</p>
                    </div>
                    
                    <!-- Opsi 3 -->
                    <div class="location-option" onclick="selectLocation(this, 'Mie Gacoan di samping laut')">
                        <img src="pantai.webp" alt="Makan mie di samping laut" class="location-image">
                        <h4>Mie Gacoan Sambil Makan di samping laut</h4>
                        <p>Alternatif yang sangat direkomendasikan untuk menikmati seporsi mie gacoan dengan indahnya laut.</p>
                    </div>
                    
                    <!-- Opsi 4 -->
                    <div class="location-option" onclick="selectLocation(this, 'Gunung')">
                        <img src="lokon.jpg" alt="Pemandangan Gunung" class="location-image">
                        <h4>Gunung</h4>
                        <p>Jikalau cici memilih ini mungkin perlu diskusi lebih lanjut.</p>
                    </div>

                    <!-- Opsi 5 -->
                    <div class="location-option" onclick="selectLocation(this, 'Kopi Oto Bahu')">
                        <img src="kopioto.webp" alt="Suasana di Kopi Oto Bahu" class="location-image">
                        <h4>Kopi Oto Bahu</h4>
                        <p>Baru 1 kali sih ke sini mar recommended karena tempatnya chill.</p>
                    </div>

                    <!-- Opsi 6 -->
                    <div class="location-option" onclick="selectLocation(this, 'Movie')">
                        <img src="bioskop.jpg" alt="Suasana di dalam bioskop" class="location-image">
                        <h4>Movie</h4>
                        <p>Kebetulan bulan ini banyak film bagus.</p>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="showConfirmation()" id="locationNextBtn" style="display: none;">
                    Confirm Our Date üíñ
                </button>
            </div>
        </div>
    </div>

    <!-- Page 4: Confirmation -->
    <div id="page4" class="page">
        <div class="container">
            <div class="progress">
                <div class="progress-step completed">1</div>
                <div class="progress-step completed">2</div>
                <div class="progress-step completed">3</div>
                <div class="progress-step active">4</div>
            </div>
            
            <div class="card">
                <h1 class="title">It's a Date! ‚ú®</h1>
                <p class="subtitle">Our magical evening is all set üíï</p>
                
                <div class="confirmation-details">
                    <h3>üìÖ Our Perfect Date</h3>
                    <p><strong>When:</strong> <span id="selectedDate">-</span></p>
                    <p><strong>Where:</strong> <span id="selectedLocation">-</span></p>
                    <p><strong>Dress Code:</strong> Senyaman Anda üå∏</p>
                </div>
                
                <div class="letter">
                    <p>I can hardly contain my excitement! ü¶ã</p>
                    
                    <p>I'll be there with the biggest smile, probably carrying a small bouquet of wildflowers (because that's just how magical this feels). Look for someone who can't stop grinning - that'll be me! ‚ú®</p>
                    
                    <p>I'll send you a text with all the final details soon. Until then, I'll be counting down the moments like a kid waiting for Christmas morning. üíñ</p>
                    
                    <p>Thank you for saying yes to this little adventure. You've just made someone very, very happy! üåô</p>
                    
                    <div class="signature">
                        See you soon, beautiful! üíï<br>
                        Your Date ‚ú®
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="celebrateDate()">
                    I Can't Wait! üéâ
                </button>
                
                <button class="btn btn-secondary" onclick="startOver()">
                    Start Over üîÑ
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentPage = 1;
        let selectedDate = '';
        let selectedLocation = '';
        
        function nextPage() {
            document.getElementById(`page${currentPage}`).classList.remove('active');
            currentPage++;
            document.getElementById(`page${currentPage}`).classList.add('active');
        }
        
        function selectDate(element, date) {
            // Remove previous selection
            document.querySelectorAll('.date-option').forEach(opt => opt.classList.remove('selected'));
            
            // Select current option
            element.classList.add('selected');
            selectedDate = date;
            
            // Show next button
            document.getElementById('dateNextBtn').style.display = 'block';
        }
        
        function selectLocation(element, location) {
            // Remove previous selection
            document.querySelectorAll('.location-option').forEach(opt => opt.classList.remove('selected'));
            
            // Select current option
            element.classList.add('selected');
            selectedLocation = location;
            
            // Show next button
            document.getElementById('locationNextBtn').style.display = 'block';
        }
        
        function showConfirmation() {
            document.getElementById('selectedDate').textContent = selectedDate;
            document.getElementById('selectedLocation').textContent = selectedLocation;
            nextPage();
        }
        
        // Override nextPage for page 3 to show confirmation
        document.getElementById('locationNextBtn').onclick = function() {
            showConfirmation();
        };
        
        // ===================================================================
        // ===== FUNGSI YANG DIPERBAIKI SECARA KESELURUHAN =====
        // ===================================================================
        function celebrateDate() {
            // Data yang akan dikirim ke server
            const dataToSend = {
                selectedDate: selectedDate,
                selectedLocation: selectedLocation
            };
    
            // ================== PERBAIKAN PENTING DI SINI ==================
            // 1. Ganti nilai di bawah ini dengan URL https:// terbaru dari terminal ngrok Anda.
            // 2. JANGAN HAPUS "/save-date" di bagian akhir.
            const ngrokUrl = 'https://333285a5b5a3.ngrok-free.app/save-date'; 
            // Contoh Benar: const ngrokUrl = 'https://c2a9-110-137-197-15.ngrok-free.app/save-date';
            // ===============================================================
            
            console.log(`Mencoba mengirim data ke: ${ngrokUrl}`); // Untuk debugging
    
            fetch(ngrokUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(dataToSend),
            })
            .then(response => {
                if (!response.ok) {
                    // Ini akan menangkap error dari server seperti 404 Not Found atau 500 Internal Server Error
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Sukses:', data);
                alert(data.message);
            })
            .catch((error) => {
                // Ini akan menangkap error jaringan (misal: ngrok tidak jalan) ATAU error dari throw di atas
                console.error('Fetch Error:', error);
                alert('Oops! Terjadi kesalahan saat menyimpan. Pastikan server dan ngrok berjalan, dan URL sudah benar.');
            });
    
            // Animasi perayaan akan tetap berjalan
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const butterfly = document.createElement('div');
                    butterfly.innerHTML = 'ü¶ã';
                    butterfly.style.position = 'fixed';
                    butterfly.style.left = Math.random() * window.innerWidth + 'px';
                    butterfly.style.top = Math.random() * window.innerHeight + 'px';
                    butterfly.style.fontSize = '2rem';
                    butterfly.style.pointerEvents = 'none';
                    butterfly.style.zIndex = '20';
                    butterfly.style.animation = 'celebration 3s ease-out forwards';
                    
                    document.body.appendChild(butterfly);
                    
                    setTimeout(() => {
                        butterfly.remove();
                    }, 3000);
                }, i * 200);
            }
        }
        
        function startOver() {
            currentPage = 1;
            selectedDate = '';
            selectedLocation = '';
            
            // Reset all pages
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById('page1').classList.add('active');
            
            // Reset selections
            document.querySelectorAll('.date-option, .location-option').forEach(opt => opt.classList.remove('selected'));
            
            // Hide next buttons
            document.getElementById('dateNextBtn').style.display = 'none';
            document.getElementById('locationNextBtn').style.display = 'none';
        }
        
        // Add celebration animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes celebration {
                0% {
                    transform: scale(0) rotate(0deg);
                    opacity: 1;
                }
                50% {
                    transform: scale(1.5) rotate(180deg);
                    opacity: 1;
                }
                100% {
                    transform: scale(0) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Add floating hearts on mouse move
        document.addEventListener('mousemove', function(e) {
            if (Math.random() < 0.05) {
                const heart = document.createElement('div');
                heart.innerHTML = 'üíï';
                heart.style.position = 'fixed';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '15';
                heart.style.fontSize = '1rem';
                heart.style.animation = 'floatUp 2s ease-out forwards';
                
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 2000);
            }
        });
        
        // Add float up animation
        const floatStyle = document.createElement('style');
        floatStyle.textContent = `
            @keyframes floatUp {
                0% {
                    transform: translateY(0) scale(1);
                    opacity: 1;
                }
                100% {
                    transform: translateY(-100px) scale(0);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(floatStyle);
    </script>
</body>
</html>

